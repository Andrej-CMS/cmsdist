--- src.orig/Frontierccess/src/ExpressionParser.cpp	2006/09/21 13:00:41	1.2
+++ src/FrontierAccess/src/ExpressionParser.cpp	2008/04/03 09:54:21	1.3
@@ -6,6 +6,7 @@
 #include "CoralBase/AttributeSpecification.h"
 
 #include <sstream>
+#include <iostream>
 
 coral::FrontierAccess::ExpressionParser::ExpressionParser()
   : m_tablesAndColumns()
@@ -72,7 +73,9 @@
 
     if ( withinQuotes )
     {
-      if ( c == '\'' ) withinQuotes = false;
+      if ( c == '\'' )
+        withinQuotes = false;
+      
       os << c;
       continue;
     }
@@ -99,6 +102,7 @@
       lastWord = "";
       os << c;
       if ( finalWord.size() > 0 && finalWord[0] == '"' && previous == ':' ) previous = '\0';
+      else if ( finalWord.size() > 0 && finalWord[0] == '"' && previous == '.' ) previous = '\0';
       else if ( c != ' ' && c != '\t' && c != '\n' && c != '\r' ) previous = c;
     }
     else {
@@ -107,7 +111,7 @@
   }
 
   os << this->decorateWord( lastWord, previous );
-
+  
   std::string parsedExpr = os.str();
   
   return parsedExpr;
@@ -116,7 +120,7 @@
 
 std::string
 coral::FrontierAccess::ExpressionParser::decorateWord( const std::string& expression, char previous ) const
-{
+{  
   if ( expression.empty() )
     return "";
 
@@ -133,7 +137,8 @@
     {
       if ( iTable->second.find( expression ) != iTable->second.end() )
         return "\"" + expression + "\"";
-    }
+    }   
+    
     return expression;
   }
   else
