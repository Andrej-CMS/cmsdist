--- configure.in.orig	2011-07-08 20:56:58.000000000 +0200
+++ configure.in	2011-07-08 20:57:24.000000000 +0200
@@ -138,12 +138,12 @@ AC_SUBST(SHLIBFORLINK)
 AC_SUBST(SHLIBFILE)
 AC_SUBST(SHLIBSONAME)
 
-SHLIBFORLINK='libadns.so'
+SHLIBFORLINK='libadns.dylib'
 SHLIBSONAME='$(SHLIBFORLINK).$(MAJOR)'
 SHLIBFILE='$(SHLIBSONAME).$(MINOR)'
 
 SHLIBCC='$(CC) $(CFLAGS) -fpic'
-MKSHLIB_1='$(CC) $(LDFLAGS) -shared -Wl,-soname=$(SHLIBSONAME) -o'
+MKSHLIB_1='$(CC) $(LDFLAGS) -dynamiclib -o'
 MKSHLIB_2=''
 MKSHLIB_3='-lc'
 
